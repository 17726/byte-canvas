# Byte Canvas - åœ¨çº¿æ— é™ç”»å¸ƒç¼–è¾‘å™¨

åŸºäº Web çš„é«˜æ€§èƒ½å›¾å½¢ç¼–è¾‘å™¨ã€‚æœ¬é¡¹ç›®é‡‡ç”¨ **"æ¸è¿›å¼æ¶æ„"**ã€**"å…­å±‚åˆ†å±‚è®¾è®¡"** ä¸ **"åŒé€šé“æ•°æ®æµ"**ï¼Œåœ¨ MVP é˜¶æ®µåˆ©ç”¨ DOM çš„å¸ƒå±€ä¼˜åŠ¿å®ç°äº†ç±»ä¼¼ Figma çš„æ ¸å¿ƒäº¤äº’ä½“éªŒï¼Œå¹¶ä¸ºæœªæ¥æ— ç¼è¿ç§» Canvas/WebGL æ¸²æŸ“é¢„ç•™äº†æ ‡å‡†é€‚é…å™¨æ¥å£ã€‚

## ğŸš€ é¡¹ç›®æ¦‚è¿°

- **æ ¸å¿ƒç›®æ ‡**: æ„å»ºä¸€ä¸ªæ”¯æŒ 100+ å›¾å…ƒæµç•…äº¤äº’çš„æ— é™ç”»å¸ƒç¼–è¾‘å™¨ã€‚
- **å½“å‰ç‰ˆæœ¬**: v2.2 (æ¶æ„é‡æ„ç‰ˆ - å¼•å…¥ Composables å±‚)
- **åœ¨çº¿æ¼”ç¤º**: [ç‚¹å‡»è·³è½¬](https://17726.github.io/byte-canvas/)

### âœ¨ æ ¸å¿ƒç‰¹æ€§

- **æ¸è¿›å¼æ¸²æŸ“æ¶æ„**: å½“å‰ä½¿ç”¨ DOM + CSS3 Transform å®ç°ï¼Œåº•å±‚é€šè¿‡ `INodeRenderer` æ¥å£ä¸æ•°æ®è§£è€¦ã€‚æœªæ¥å¯ä»…æ›¿æ¢ `Renderers` å±‚å°†æ¸²æŸ“å¼•æ“åˆ‡æ¢è‡³ Canvas æˆ– WebGLï¼Œè€Œæ— éœ€ä¿®æ”¹ä¸Šå±‚ä¸šåŠ¡é€»è¾‘ã€‚
- **åŒé€šé“æ•°æ®æµ**: æ˜ç¡®åˆ†ç¦» **â€œé«˜é¢‘äº¤äº’æµâ€** (æ‹–æ‹½/ç¼©æ”¾) ä¸ **â€œæŒ‡ä»¤å‘½ä»¤æµâ€** (ç‚¹å‡»/å¿«æ·é”®)ï¼Œç¡®ä¿æ€§èƒ½ä¸é€»è¾‘æ¸…æ™°åº¦çš„å¹³è¡¡ã€‚
- **é€»è¾‘èƒ¶æ°´å±‚**: å¼•å…¥ `Composables` å¤ç”¨é€»è¾‘ï¼Œå®ç° UI ç»„ä»¶ä¸åº•å±‚æœåŠ¡çš„å½»åº•è§£è€¦ã€‚
- **é«˜çº§äº¤äº’**: æ”¯æŒ 8ç‚¹æ‹–æ‹½ç¼©æ”¾ã€æ¡†é€‰/ç‚¹é€‰ã€å¤šé€‰æ‰¹é‡æ“ä½œã€ç»„åˆ/è§£ç»„ã€‚
- **æ™ºèƒ½å±æ€§é¢æ¿**: æ”¯æŒæ‚¬æµ®å±æ€§æ ä¸å³ä¾§é¢æ¿çš„åŒå‘æ•°æ®ç»‘å®šã€‚

## ğŸ“… é‡Œç¨‹ç¢‘ (Milestones)

### âœ… é˜¶æ®µä¸€ & äºŒï¼šæ ¸å¿ƒæ¶æ„ä¸åŠŸèƒ½ (Completed)

- [x] **åŸºç¡€æ¶æ„**: Pinia å•å‘æ•°æ®æµ + ToolManager äº‹ä»¶è·¯ç”±
- [x] **é€»è¾‘é‡æ„**: å¼•å…¥ `useNodeActions` / `useStyleSync` ç»Ÿä¸€ä¸šåŠ¡å…¥å£
- [x] **ç”»å¸ƒå¼•æ“**: æ— é™ç”»å¸ƒå¹³ç§»ã€ç¼©æ”¾ã€ä¸–ç•Œ/å±å¹•åæ ‡è½¬æ¢
- [x] **å›¾å…ƒæ”¯æŒ**: çŸ©å½¢ã€åœ†å½¢ã€æ–‡æœ¬ (å¯Œæ–‡æœ¬ç¼–è¾‘)ã€å›¾ç‰‡ (æ»¤é•œ)
- [x] **é«˜çº§æ“ä½œ**: ç»„åˆ (Group) / è§£ç»„ã€å›¾å±‚å±‚çº§è°ƒæ•´ã€å‰ªè´´æ¿æ“ä½œ

### ğŸ—“ï¸ é˜¶æ®µä¸‰ï¼šè¿›é˜¶æŒ‘æˆ˜ (In Progress)

- [ ] **å†å²è®°å½•**: æ’¤é”€ (Undo) / é‡åš (Redo) æ ˆ
- [ ] **æ€§èƒ½ä¼˜åŒ–**: é’ˆå¯¹å¤§é‡å›¾å…ƒçš„æ¸²æŸ“ä¼˜åŒ– (è™šæ‹Ÿæ»šåŠ¨/è„çŸ©å½¢)
- [ ] **è¾…åŠ©åŠŸèƒ½**: æ™ºèƒ½å¸é™„å¯¹é½ã€æ ‡å°º

## ğŸ— ç³»ç»Ÿæ¶æ„ (Architecture)

æœ¬é¡¹ç›®é‡‡ç”¨ä¸¥æ ¼çš„ **å…­å±‚åˆ†å±‚æ¶æ„**ï¼Œç¡®ä¿å…³æ³¨ç‚¹åˆ†ç¦»ï¼š

1.  **L1 è§†å›¾å±‚ (View)**: `src/components` - **åªè´Ÿè´£å±•ç¤º**ã€‚Vue ç»„ä»¶ï¼Œæ— ä¸šåŠ¡é€»è¾‘ã€‚
2.  **L2 é€»è¾‘èƒ¶æ°´å±‚ (Logic Glue)**: `src/composables` - **è´Ÿè´£è¿æ¥ä¸åé¦ˆ**ã€‚è¿æ¥ UI ä¸å†…æ ¸ï¼Œå¤„ç†å“åº”å¼çŠ¶æ€ä¸å‰¯ä½œç”¨ï¼ˆå¼¹çª—/é€šçŸ¥ï¼‰ã€‚
3.  **L3 äº¤äº’æ§åˆ¶å±‚ (Interaction)**: `src/core/ToolManager` - **è´Ÿè´£è·¯ç”±ä¸çŠ¶æ€**ã€‚å¤„ç†é¼ æ ‡/é”®ç›˜çš„è¿ç»­äº‹ä»¶æµã€‚
4.  **L4 ä¸šåŠ¡é¢†åŸŸå±‚ (Domain)**: `src/core/services` - **è´Ÿè´£è®¡ç®—**ã€‚çº¯æ•°å­¦è®¡ç®—ã€èŠ‚ç‚¹å·¥å‚ã€ç»„åˆé€»è¾‘ã€‚æ— çŠ¶æ€ï¼Œçº¯ TSã€‚
5.  **L5 æ•°æ®å±‚ (Data)**: `src/store` - **å•ä¸€ä¿¡æº**ã€‚Pinia Storeï¼Œè´Ÿè´£æ•°æ®å­˜å‚¨ä¸æŒä¹…åŒ–ã€‚
6.  **L6 æ¸²æŸ“å±‚ (Rendering)**: `src/core/renderers` - **è´Ÿè´£ç»˜åˆ¶**ã€‚å°†æ•°æ®æ˜ å°„ä¸ºè§†è§‰å…ƒç´ ï¼ˆDOM/Canvasï¼‰ã€‚

---

## ğŸ“‚ ç›®å½•ç»“æ„ (Directory Structure)

```text
src/
â”œâ”€â”€ components/                 # [L1 è§†å›¾å±‚] çº¯å±•ç¤ºç»„ä»¶
â”‚   â”œâ”€â”€ canvas/                   # >> ç”»å¸ƒè§†å£ç›¸å…³ (World)
â”‚   â”‚   â”œâ”€â”€ layers/                 # å›¾å…ƒç»„ä»¶ (RectLayer, GroupLayer...)
â”‚   â”‚   â”œâ”€â”€ CanvasStage.vue         # ç”»å¸ƒå®¹å™¨
â”‚   â”‚   â””â”€â”€ SelectionOverlay.vue    # äº¤äº’åé¦ˆå±‚
â”‚   â””â”€â”€ ui/                     # >> ç”¨æˆ·ç•Œé¢ç›¸å…³ (Interface)
â”‚       â”œâ”€â”€ panels/               # å›ºå®šé¢æ¿ (ToolPanel, InspectorPanel...)
â”‚       â”œâ”€â”€ floating/             # æµ®åŠ¨æ§ä»¶ (ContextMenu, HoverToolbar...)
â”‚       â””â”€â”€ common/               # é€šç”¨ç»„ä»¶
â”œâ”€â”€ composables/                # [L2 é€»è¾‘èƒ¶æ°´å±‚] ä¸šåŠ¡é€»è¾‘å¤ç”¨ä¸UIæ¡¥æ¥
â”‚   â”œâ”€â”€ useNodeActions.ts         # èŠ‚ç‚¹æ“ä½œ (åˆ é™¤ã€ç»„åˆã€å±‚çº§)
â”‚   â””â”€â”€ useStyleSync.ts           # å±æ€§åŒå‘ç»‘å®š
â”œâ”€â”€ core/                       # [æ ¸å¿ƒå†…æ ¸å±‚] çº¯ TypeScript
â”‚   â”œâ”€â”€ ToolManager.ts            # [L3] äº¤äº’äº‹ä»¶æ€»çº¿
â”‚   â”œâ”€â”€ handlers/                 # [L3] æœ‰çŠ¶æ€äº¤äº’ (Transform, Selection)
â”‚   â”œâ”€â”€ services/                 # [L4] æ— çŠ¶æ€ä¸šåŠ¡ (Group, NodeFactory)
â”‚   â”œâ”€â”€ renderers/                # [L6] æ¸²æŸ“é€‚é…å™¨ (DomRenderer...)
â”‚   â””â”€â”€ utils/                    # [åŸºå»º] çº¯ç®—æ³• (geometry.ts)
â””â”€â”€ store/                      # [L5 æ•°æ®å±‚] Pinia Store
    â””â”€â”€ useCanvasStore.ts         # ç”»å¸ƒçŠ¶æ€ç®¡ç†

```

## ğŸ“¦ å¼€å‘æŒ‡å—

Bash

### å®‰è£…ä¾èµ–

`npm install`

### å¯åŠ¨å¼€å‘æœåŠ¡å™¨

`npm run dev`

### ç±»å‹æ£€æŸ¥

`npm run lint`
